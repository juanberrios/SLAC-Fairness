
==============================================================================
Unfairness mitigation strategies: round 1
Running 14 strategies
==============================================================================
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 0.1.1:
  Classifier of race
--------------------------------------------------------------------------------
Data: 9284 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  4380  1473 5853
  Sum      4934  4350 9284
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS0.1.1.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 0.2:
  Separate auto-coders of rpresent by race
--------------------------------------------------------------------------------
Data: 9284 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  4380  1473 5853
  Sum      4934  4350 9284
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS0.2.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 1.1:
  Downsample black to equalize token counts by race
--------------------------------------------------------------------------------
Data: 8700 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    481  2877 3358
  Present  3869  1473 5342
  Sum      4350  4350 8700
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS1.1.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 1.2:
  Downsample Present to equalize token counts by rpresent
--------------------------------------------------------------------------------
Data: 6862 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  2554   877 3431
  Sum      3108  3754 6862
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS1.2.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 1.3.1:
  Downsample white's Absent to equalize rpresent base rates by race
--------------------------------------------------------------------------------
Data: 6593 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554   186  740
  Present  4380  1473 5853
  Sum      4934  1659 6593
Proportionally by race:
         race
rpresent      black     white
  Absent  0.1122821 0.1121157
  Present 0.8877179 0.8878843
  Sum     1.0000000 1.0000000
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS1.3.1.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 1.3.2:
  Downsample black's Present to equalize rpresent base rates by race
--------------------------------------------------------------------------------
Data: 5188 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present   284  1473 1757
  Sum       838  4350 5188
Proportionally by race:
         race
rpresent      black     white
  Absent  0.6610979 0.6613793
  Present 0.3389021 0.3386207
  Sum     1.0000000 1.0000000
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS1.3.2.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 1.4:
  Downsample black's data to equalize (a) token counts by race and (b) rpresent base rates by race
--------------------------------------------------------------------------------
Data: 6377 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  1473  1473 2946
  Sum      2027  4350 6377
Proportionally by race:
         race
rpresent      black     white
  Absent  0.2733103 0.6613793
  Present 0.7266897 0.3386207
  Sum     1.0000000 1.0000000
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS1.4.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 1.5:
  Downsample Present data to equalize (a) token counts by rpresent and (b) race base rates by rpresent
--------------------------------------------------------------------------------
Data: 5458 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present   554  1473 2027
  Sum      1108  4350 5458
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS1.5.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 1.6:
  Downsample race x rpresent to equalize token counts by race x rpresent
--------------------------------------------------------------------------------
Data: 2216 tokens with 174 predictors
         race
rpresent  black white  Sum
  Absent    554   554 1108
  Present   554   554 1108
  Sum      1108  1108 2216
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS1.6.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 2.1.1:
  Empirical predictor selection, removing most influential predictors in classifier of race (cutoff: top 10%)
--------------------------------------------------------------------------------
Data: 9284 tokens with 157 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  4380  1473 5853
  Sum      4934  4350 9284
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS2.1.1.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 2.1.2:
  Empirical predictor selection, removing most influential predictors in classifier of race (cutoff: top 20%)
--------------------------------------------------------------------------------
Data: 9284 tokens with 140 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  4380  1473 5853
  Sum      4934  4350 9284
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS2.1.2.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 2.1.3:
  Empirical predictor selection, removing most influential predictors in classifier of race (cutoff: top 50%)
--------------------------------------------------------------------------------
Data: 9284 tokens with 87 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  4380  1473 5853
  Sum      4934  4350 9284
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS2.1.3.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 2.1.4:
  Empirical predictor selection, without measures with differential importance in separate-race auto-coders of rpresent (difference in rank places: at least p/2)
--------------------------------------------------------------------------------
Data: 9284 tokens with 165 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  4380  1473 5853
  Sum      4934  4350 9284
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS2.1.4.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Unfairness mitigation strategy 2.1.5:
  Empirical predictor selection, without measures with differential importance in separate-race auto-coders of rpresent (difference in rank places: at least p/3)
--------------------------------------------------------------------------------
Data: 9284 tokens with 142 predictors
         race
rpresent  black white  Sum
  Absent    554  2877 3431
  Present  4380  1473 5853
  Sum      4934  4350 9284
Running classifier...
Classifier finished running
Saving classifier as Run-UMS_UMS2.1.5.Rds
Warning message:
package 'optparse' was built under R version 4.3.3 

--------------------------------------------------------------------------------
Session info
--------------------------------------------------------------------------------
R version 4.3.1 (2023-06-16 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19045)

Matrix products: default


locale:
[1] LC_COLLATE=English_United States.utf8 
[2] LC_CTYPE=en_US.UTF-8                  
[3] LC_MONETARY=English_United States.utf8
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.utf8    

time zone: America/Los_Angeles
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] this.path_2.2.0 dplyr_1.1.3     rlang_1.1.1     caret_6.0-94   
 [5] lattice_0.21-8  ggplot2_3.4.3   ranger_0.15.1   ROCR_1.0-11    
 [9] tidyr_1.3.0     purrr_1.0.2     magrittr_2.0.3  optparse_1.7.5 

loaded via a namespace (and not attached):
 [1] utf8_1.2.3           future_1.33.0        generics_0.1.3      
 [4] class_7.3-22         stringi_1.7.12       pROC_1.18.4         
 [7] listenv_0.9.0        digest_0.6.33        timechange_0.2.0    
[10] grid_4.3.1           iterators_1.0.14     foreach_1.5.2       
[13] plyr_1.8.9           Matrix_1.5-4.1       ModelMetrics_1.2.2.2
[16] nnet_7.3-19          survival_3.5-5       fansi_1.0.4         
[19] scales_1.2.1         codetools_0.2-19     getopt_1.20.4       
[22] lava_1.7.2.1         cli_3.6.1            hardhat_1.3.0       
[25] parallelly_1.36.0    future.apply_1.11.0  munsell_0.5.0       
[28] splines_4.3.1        withr_2.5.1          prodlim_2023.08.28  
[31] tools_4.3.1          parallel_4.3.1       reshape2_1.4.4      
[34] colorspace_2.1-0     recipes_1.0.8        globals_0.16.2      
[37] vctrs_0.6.3          R6_2.5.1             rpart_4.1.19        
[40] stats4_4.3.1         lubridate_1.9.3      lifecycle_1.0.3     
[43] stringr_1.5.0        MASS_7.3-60          pkgconfig_2.0.3     
[46] pillar_1.9.0         gtable_0.3.4         glue_1.6.2          
[49] data.table_1.14.8    Rcpp_1.0.11          tibble_3.2.1        
[52] tidyselect_1.2.0     nlme_3.1-162         ipred_0.9-14        
[55] timeDate_4022.108    gower_1.0.1          compiler_4.3.1      
